#!/bin/csh -f
alias let @
set fortfiles
let i = 1
while ( $i <= $#argv )
  set file = $argv[$i]
  switch ( $file )
    case *.for:
	set argv[$i] = ${file:r}.f
	ratty -l -I $MIRINC -b -s linux $file $argv[$i]
	set fortfiles = ($fortfiles $argv[$i])
      breaksw
    case *.f:
	set fortfiles = ($fortfiles $file)
      breaksw
    default:
      breaksw
  endsw
  let i = $i + 1
end
flint -I $MIRINC $fortfiles
f77 $argv
